# SOME DESCRIPTIVE TITLE
# Copyright (C) YEAR Nomura Research Institute, Ltd.
# This file is distributed under the same license as the keycloak-documentation-i18n package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: keycloak-documentation-i18n  \n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: \n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#. type: Block title
#, no-wrap
msgid "Procedure"
msgstr ""

#. type: Plain text
msgid "Click *Save*."
msgstr ""

#. type: Plain text
msgid "Click *User Federation* in the menu."
msgstr ""

#. type: Title ===
#, no-wrap
msgid "SSSD and FreeIPA Identity Management integration"
msgstr ""

#. type: Plain text
msgid ""
"{project_name} includes the https://fedoraproject.org/wiki/Features/"
"SSSD[System Security Services Daemon (SSSD)] plugin. SSSD is part of the "
"Fedora and Red Hat Enterprise Linux (RHEL), and it provides access to "
"multiple identities and authentication providers. SSSD also provides "
"benefits such as failover and offline support. For more information, see "
"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/7/"
"html/system-level_authentication_guide/sssd[the Red Hat Enterprise Linux "
"Identity Management documentation]."
msgstr ""

#. type: Plain text
msgid ""
"SSSD integrates with the FreeIPA identity management (IdM) server, providing "
"authentication and access control. With this integration, {project_name} can "
"authenticate against privileged access management (PAM) services and "
"retrieve user data from SSSD. For more information about using Red Hat "
"Identity Management in Linux environments, see https://access.redhat.com/"
"documentation/en-us/red_hat_enterprise_linux/7/html/"
"linux_domain_identity_authentication_and_policy_guide/index[the Red Hat "
"Enterprise Linux Identity Management documentation]."
msgstr ""

#. type: Plain text
msgid "image:{project_images}/keycloak-sssd-freeipa-integration-overview.png[]"
msgstr ""

#. type: Plain text
msgid ""
"{project_name} and SSSD communicate through read-only D-Bus interfaces. For "
"this reason, the way to provision and update users is to use the FreeIPA/IdM "
"administration interface. By default, the interface imports the username, "
"email, first name, and last name."
msgstr ""

#. type: delimited block =
msgid ""
"{project_name} registers groups and roles automatically but does not "
"synchronize them. Any changes made by the {project_name} administrator in "
"{project_name} do not synchronize with SSSD."
msgstr ""

#. type: Title ====
#, no-wrap
msgid "FreeIPA/IdM server"
msgstr ""

#. type: Plain text
msgid ""
"The https://hub.docker.com/r/freeipa/freeipa-server/[FreeIPA Docker image] "
"is available in Docker Hub. To set up the FreeIPA server, see the https://"
"www.freeipa.org/page/Quick_Start_Guide[FreeIPA documentation]."
msgstr ""

#. type: Plain text
msgid "Run your FreeIPA server using this command:"
msgstr ""

#. type: delimited block -
#, no-wrap
msgid ""
" docker run --name freeipa-server-container -it \\\n"
" -h server.freeipa.local -e PASSWORD=YOUR_PASSWORD \\\n"
" -v /sys/fs/cgroup:/sys/fs/cgroup:ro \\\n"
" -v /var/lib/ipa-data:/data:Z freeipa/freeipa-server\n"
msgstr ""

#. type: Plain text
msgid ""
"The parameter `-h` with `server.freeipa.local` represents the FreeIPA/IdM "
"server hostname.  Change `YOUR_PASSWORD` to a password of your own."
msgstr ""

#. type: Plain text
msgid "After the container starts, change the `/etc/hosts` file to include:"
msgstr ""

#. type: delimited block -
#, no-wrap
msgid "x.x.x.x     server.freeipa.local\n"
msgstr ""

#. type: Plain text
msgid "If you do not make this change, you must set up a DNS server."
msgstr ""

#. type: Plain text
msgid ""
"Use the following command to enroll your Linux server in the IPA domain so "
"that the SSSD federation provider starts and runs on {project_name}:"
msgstr ""

#. type: delimited block -
#, no-wrap
msgid " ipa-client-install --mkhomedir -p admin -w password\n"
msgstr ""

#. type: Plain text
msgid ""
"Run the following command on the client to verify the installation is "
"working:"
msgstr ""

#. type: delimited block -
#, no-wrap
msgid " kinit admin\n"
msgstr ""

#. type: Plain text
msgid "Enter your password."
msgstr ""

#. type: Plain text
msgid "Add users to the IPA server using this command:"
msgstr ""

#. type: delimited block -
#, no-wrap
msgid "$ ipa user-add <username> --first=<first name> --last=<surname> --email=<email address> --phone=<telephoneNumber> --street=<street> \\      --city=<city> --state=<state> --postalcode=<postal code> --password\n"
msgstr ""

#. type: Plain text
msgid "Force set the user's password using kinit."
msgstr ""

#. type: delimited block -
#, no-wrap
msgid " kinit <username>\n"
msgstr ""

#. type: Plain text
msgid "Enter the following to restore normal IPA operation:"
msgstr ""

#. type: delimited block -
#, no-wrap
msgid ""
"kdestroy -A\n"
"kinit admin\n"
msgstr ""

#. type: Title ====
#, no-wrap
msgid "SSSD and D-Bus"
msgstr ""

#. type: Plain text
msgid ""
"The federation provider obtains the data from SSSD using D-BUS. It "
"authenticates the data using PAM."
msgstr ""

#. type: Plain text
msgid "Install the sssd-dbus RPM."
msgstr ""

#. type: delimited block -
#, no-wrap
msgid "$ sudo yum install sssd-dbus\n"
msgstr ""

#. type: Plain text
msgid "Run the provisioning script available from the Keycloak distribution:"
msgstr ""

#. type: delimited block -
#, no-wrap
msgid "  $ bin/federation-sssd-setup.sh\n"
msgstr ""

#. type: Plain text
msgid ""
"This provisioning script makes the following changes to `/etc/sssd/sssd."
"conf`:"
msgstr ""

#. type: delimited block -
#, no-wrap
msgid ""
"  [domain/your-hostname.local]\n"
"  ...\n"
"  ldap_user_extra_attrs = mail:mail, sn:sn, givenname:givenname, telephoneNumber:telephoneNumber\n"
"  ...\n"
"  [sssd]\n"
"  services = nss, sudo, pam, ssh, ifp\n"
"  ...\n"
"  [ifp]\n"
"  allowed_uids = root, yourOSUsername\n"
"  user_attributes = +mail, +telephoneNumber, +givenname, +sn\n"
msgstr ""

#. type: Plain text
msgid "Run `dbus-send` to ensure the setup is successful."
msgstr ""

#. type: delimited block -
#, no-wrap
msgid "sudo dbus-send --print-reply --system --dest=org.freedesktop.sssd.infopipe /org/freedesktop/sssd/infopipe org.freedesktop.sssd.infopipe.GetUserGroups string:john\n"
msgstr ""

#. type: Plain text
msgid ""
"If the setup is successful, you see the user's group. If this command "
"returns a timeout or an error, the federation provider running on "
"{project_name} cannot retrieve any data. This error usually happens because "
"the server is not enrolled in the FreeIPA IdM server, or does not have "
"permission to access the SSSD service."
msgstr ""

#. type: Plain text
msgid ""
"If you do not have permission to access the SSSD service, ensure that the "
"user running the {project_name} server is in the `/etc/sssd/sssd.conf` file "
"in the following section:"
msgstr ""

#. type: delimited block -
#, no-wrap
msgid ""
"[ifp]\n"
"allowed_uids = root, your_username\n"
msgstr ""

#. type: Title ====
#, no-wrap
msgid "Enabling the SSSD federation provider"
msgstr ""

#. type: Plain text
msgid ""
"{project_name} uses DBus-Java to communicate at a low level with D-Bus. D-"
"Bus depends on the http://www.matthew.ath.cx/projects/java/[Unix Sockets "
"Library]."
msgstr ""

#. type: Plain text
msgid ""
"You can find an RPM for this library in https://github.com/keycloak/libunix-"
"dbus-java/releases[the keycloak repository]. Before installing this RPM, "
"check the RPM signature using this command:"
msgstr ""

#. type: delimited block -
#, no-wrap
msgid ""
"  $ rpm -K libunix-dbus-java-0.8.0-1.fc24.x86_64.rpm\n"
"  libunix-dbus-java-0.8.0-1.fc24.x86_64.rpm:\n"
"    Header V4 RSA/SHA256 Signature, key ID 84dc9914: OK\n"
"    Header SHA1 digest: OK (d17bb7ebaa7a5304c1856ee4357c8ba4ec9c0b89)\n"
"    V4 RSA/SHA256 Signature, key ID 84dc9914: OK\n"
"    MD5 digest: OK (770c2e68d052cb4a4473e1e9fd8818cf)\n"
msgstr ""

#. type: Plain text
msgid "Install the RPM using this command:"
msgstr ""

#. type: delimited block -
#, no-wrap
msgid "$ sudo yum install libunix-dbus-java-0.8.0-1.fc24.x86_64.rpm\n"
msgstr ""

#. type: Plain text
msgid ""
"Before enabling the SSSD Federation provider, install the RPM for this "
"library:"
msgstr ""

#. type: delimited block -
#, no-wrap
msgid "$ sudo yum install rh-sso7-libunix-dbus-java\n"
msgstr ""

#. type: Plain text
msgid ""
"{project_name} uses JNA to authenticate with PAM. Ensure you have the JAN "
"package installed."
msgstr ""

#. type: delimited block -
#, no-wrap
msgid "$ sudo yum install jna\n"
msgstr ""

#. type: Plain text
msgid "Use the `sssctl user-checks` command to validate your setup:"
msgstr ""

#. type: delimited block -
#, no-wrap
msgid "  $ sudo sssctl user-checks admin -s keycloak\n"
msgstr ""

#. type: Title ===
#, no-wrap
msgid "Configuring a federated SSSD store"
msgstr ""

#. type: Plain text
msgid "After the installation, configure a federated SSSD store."
msgstr ""

#. type: Plain text
msgid ""
"From the *Add Provider* list select _sssd_. {project_name} brings you to the "
"sssd configuration page."
msgstr ""

#. type: Plain text
msgid ""
"You can now authenticate against {project_name} using FreeIPA/IdM "
"credentials."
msgstr ""
